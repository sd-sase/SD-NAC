<?xml version="1.0" encoding="utf-8"?>
<service [% version_xml %]>
  <!-- source: https://firewalld.org/documentation/man-pages/firewalld.service.html -->
  [% IF short != "" %]
  <short>[% short %]</short>
  [% END %]
  [% IF description != "" %]
  <description>[% description %]</description>
  [% END %]
  [% IF port != "" %]
  <description>[% description %]</description>
  [% END %]
  [% IF ( port != "" ) AND ( port_protocol )  %]
  <port port="[% port %]" protocol="[% prot_protocol %]"/>
  [% END %]
  [% IF protocol != ""  %]
  <protocol value="[% protocol %]"/>
  [% END %]
  [% IF module != "" %]
  <module name="[% module %]"/>
  [% END %]
  [% IF (ipv4 != "") AND (ipv6 == "")  %]
  <destination ipv4="[% ipv4 %]"/>
  [% END %]
  [% IF (ipv4 == "") AND (ipv6 != "")  %]
  <destination ipv6="[% ipv6 %]"/>
  [% END %]
  [% IF (ipv4 == "") AND (ipv6 == "")  %]
  <destination ipv4="[% ipv6 %]" ipv6="[% ipv6 %]"/>
  [% END %]
  [% IF include != "" %]
  <include service="[% include %]"/>
  [% END %]
  [% IF helper != "" %]
  <helper name="[% helper %]"/>
  [% END %]
</service>
