---
apt_preferences__list:
  - filename: 'packetfence-ppa.pref'
    package: 'packetfence*'
    pin: 'release a=bookworm-gitlab,n=bookworm,c=main,b=amd64'
    priority: '900'
    reason: 'always install packetfence packages from packetfence-ppa repository'

# force value to simplify tests outside CI
gitlab_buildpkg_tools__ppa_enabled: True

# use repo generated by 'publish' stage
gitlab_buildpkg_tools__ppa_url: 'http://inverse.ca/downloads/PacketFence/gitlab/{{ pipeline_id }}'
gitlab_buildpkg_tools__ppa_url_deb: '{{ gitlab_buildpkg_tools__ppa_url }}/debian'

# redefine this variables to avoid confusion with official "packetfence" repositories
gitlab_buildpkg_tools__deb_ppa:
  - name: 'packetfence-ppa'
    # force to "bookworm" because we don't build anymore for stretch
    baseurl: "{{ gitlab_buildpkg_tools__ppa_url_deb }} bookworm main"
    gpgkey: 'http://inverse.ca/downloads/GPG_PUBLIC_KEY'

gitlab_buildpkg_tools__deb_pkgs:
  # temp
  - packetfence-test
